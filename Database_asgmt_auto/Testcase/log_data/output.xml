<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 7.2 (Python 3.9.1 on win32)" generated="2025-02-27T09:48:05.478417" rpa="false" schemaversion="5">
<suite id="s1" name="Tc" source="C:\Users\jetsada.b\Desktop\GitHub\Doppee_Asgmt_Database_01\Database_asgmt_auto\Testcase\tc.robot">
<test id="s1-t1" name="TC02 - Verify can decrease product qty" line="26">
<kw name="Connect To Database And Fetch Data" owner="commom_keyword">
<kw name="Connect To Database" owner="DatabaseLibrary">
<msg time="2025-02-27T09:48:05.534479" level="INFO">Looking for configuration file: 'resources\db.cfg'</msg>
<msg time="2025-02-27T09:48:05.534479" level="INFO">Configuration file doesn't exist</msg>
<msg time="2025-02-27T09:48:05.545225" level="INFO">Connect to DB using : psycopg2.connect(database='training_platform_db', user='doppio-training-user', password=***, host='125.26.15.143', port=10004)</msg>
<arg>${DB_DRIVER}</arg>
<arg>${DB_NAME}</arg>
<arg>${DB_USER}</arg>
<arg>${DB_PASSWORD}</arg>
<arg>${DB_HOST}</arg>
<arg>${DB_PORT}</arg>
<doc>Creates a database connection using the DB API 2.0 ``db_module`` and the parameters provided.
Along with listed commonly used arguments (`db_name`, `db_host` etc.)
you can set any other DB module specific parameters as key/value pairs.</doc>
<status status="PASS" start="2025-02-27T09:48:05.533479" elapsed="0.059887"/>
</kw>
<kw name="Log To Console" owner="BuiltIn">
<arg>ðŸŸ¢</arg>
<doc>Logs the given message to the console.</doc>
<status status="PASS" start="2025-02-27T09:48:05.593366" elapsed="0.000000"/>
</kw>
<kw name="Log To Console" owner="BuiltIn">
<arg>.Database : Connect</arg>
<doc>Logs the given message to the console.</doc>
<status status="PASS" start="2025-02-27T09:48:05.593366" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2025-02-27T09:48:05.533479" elapsed="0.059887"/>
</kw>
<kw name="Check If Item Not Exist In Database Then Added" owner="commom_keyword">
<kw name="Query" owner="DatabaseLibrary">
<msg time="2025-02-27T09:48:05.593366" level="INFO" html="true">Executing sql:&lt;br&gt;&lt;code style="font-weight: bold;"&gt;SELECT COUNT(id) FROM product WHERE name='Jetsada phone';&lt;/code&gt;</msg>
<msg time="2025-02-27T09:48:05.620394" level="INFO" html="true">&lt;div style="max-width: 100%; overflow-x: auto;"&gt;&lt;table style="width: auto; border-collapse: collapse; border: 2px solid rgb(140 140 140)"&gt;&lt;caption style="text-align: left; font-weight: bold; padding: 5px;"&gt;Query returned 1 rows&lt;/caption&gt;&lt;tr&gt;&lt;th scope="col" style="background-color: #d6ecd4; border: 1px solid rgb(160 160 160);padding: 8px 10px;text-align: center;"&gt;Row&lt;/th&gt;&lt;th scope="col" style="background-color: #505050; color: #fff;border: 1px solid rgb(160 160 160);padding: 8px 10px;text-align: center;"&gt;count&lt;/th&gt;&lt;/tr&gt;&lt;tr style="background-color: #eee;"&gt;&lt;th scope="row" style="background-color: #d6ecd4;border: 1px solid rgb(160 160 160);padding: 8px 10px;text-align: center;"&gt;0&lt;/th&gt;&lt;td style="border: 1px solid rgb(160 160 160);padding: 8px 10px;text-align: center;"&gt;1&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;</msg>
<msg time="2025-02-27T09:48:05.620394" level="INFO">${result} = [(1,)]</msg>
<var>${result}</var>
<arg>SELECT COUNT(id) FROM product WHERE name='${pd_name}';</arg>
<doc>Runs a query with the ``select_statement`` and returns the result as list of rows.
The type of row values depends on the database module -
usually they are tuples or tuple-like objects.</doc>
<status status="PASS" start="2025-02-27T09:48:05.593366" elapsed="0.027028"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-02-27T09:48:05.621399" level="INFO">${count} = 1</msg>
<var>${count}</var>
<arg>${result[0][0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-02-27T09:48:05.621399" elapsed="0.000000"/>
</kw>
<if>
<branch type="IF" condition="${count} == 0">
<kw name="Execute Sql String" owner="DatabaseLibrary">
<arg>INSERT INTO product (id, name, description, qty, price, rec_status) VALUES (${pd_id}, '${pd_name}', '${pd_desc}', ${pd_qty}, ${pd_price}, ${pd_rec});</arg>
<doc>Executes the ``sql_string`` as a single SQL command.</doc>
<status status="NOT RUN" start="2025-02-27T09:48:05.621399" elapsed="0.000000"/>
</kw>
<kw name="Log To Console" owner="BuiltIn">
<arg>Database : Inserted "Jetsada phone" into database</arg>
<doc>Logs the given message to the console.</doc>
<status status="NOT RUN" start="2025-02-27T09:48:05.622402" elapsed="0.000000"/>
</kw>
<kw name="Query" owner="DatabaseLibrary">
<var>${new_count}</var>
<arg>SELECT COUNT(*) FROM product WHERE name='${pd_name}';</arg>
<doc>Runs a query with the ``select_statement`` and returns the result as list of rows.
The type of row values depends on the database module -
usually they are tuples or tuple-like objects.</doc>
<status status="NOT RUN" start="2025-02-27T09:48:05.622402" elapsed="0.000000"/>
</kw>
<kw name="Should Be Equal As Numbers" owner="BuiltIn">
<arg>${new_count[0][0]}</arg>
<arg>1</arg>
<arg>"Insert failed"</arg>
<doc>Fails if objects are unequal after converting them to real numbers.</doc>
<status status="NOT RUN" start="2025-02-27T09:48:05.622402" elapsed="0.000000"/>
</kw>
<status status="NOT RUN" start="2025-02-27T09:48:05.621399" elapsed="0.001003"/>
</branch>
<branch type="ELSE">
<kw name="Log To Console" owner="BuiltIn">
<arg>Database : "Jetsada phone" already exists, skipping insert</arg>
<doc>Logs the given message to the console.</doc>
<status status="PASS" start="2025-02-27T09:48:05.622402" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2025-02-27T09:48:05.622402" elapsed="0.000000"/>
</branch>
<status status="PASS" start="2025-02-27T09:48:05.621399" elapsed="0.002000"/>
</if>
<return>
<value>${pd_id}</value>
<value>${pd_name}</value>
<value>${pd_desc}</value>
<value>${pd_qty}</value>
<value>${pd_price}</value>
<value>${pd_rec}</value>
<status status="PASS" start="2025-02-27T09:48:05.623399" elapsed="0.000000"/>
</return>
<arg>666</arg>
<arg>Jetsada phone</arg>
<arg>Smartphone</arg>
<arg>10</arg>
<arg>10000.0</arg>
<arg>1</arg>
<status status="PASS" start="2025-02-27T09:48:05.593366" elapsed="0.030033"/>
</kw>
<kw name="Decrease Product QTY After Buy Product" owner="decrease_product">
<kw name="Query" owner="DatabaseLibrary">
<msg time="2025-02-27T09:48:05.624397" level="INFO" html="true">Executing sql:&lt;br&gt;&lt;code style="font-weight: bold;"&gt;SELECT qty FROM product WHERE id=666;&lt;/code&gt;</msg>
<msg time="2025-02-27T09:48:05.632681" level="INFO" html="true">&lt;div style="max-width: 100%; overflow-x: auto;"&gt;&lt;table style="width: auto; border-collapse: collapse; border: 2px solid rgb(140 140 140)"&gt;&lt;caption style="text-align: left; font-weight: bold; padding: 5px;"&gt;Query returned 1 rows&lt;/caption&gt;&lt;tr&gt;&lt;th scope="col" style="background-color: #d6ecd4; border: 1px solid rgb(160 160 160);padding: 8px 10px;text-align: center;"&gt;Row&lt;/th&gt;&lt;th scope="col" style="background-color: #505050; color: #fff;border: 1px solid rgb(160 160 160);padding: 8px 10px;text-align: center;"&gt;qty&lt;/th&gt;&lt;/tr&gt;&lt;tr style="background-color: #eee;"&gt;&lt;th scope="row" style="background-color: #d6ecd4;border: 1px solid rgb(160 160 160);padding: 8px 10px;text-align: center;"&gt;0&lt;/th&gt;&lt;td style="border: 1px solid rgb(160 160 160);padding: 8px 10px;text-align: center;"&gt;20&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;</msg>
<msg time="2025-02-27T09:48:05.632681" level="INFO">${result} = [(20,)]</msg>
<var>${result}</var>
<arg>SELECT qty FROM product WHERE id=${pd_id};</arg>
<doc>Runs a query with the ``select_statement`` and returns the result as list of rows.
The type of row values depends on the database module -
usually they are tuples or tuple-like objects.</doc>
<status status="PASS" start="2025-02-27T09:48:05.624397" elapsed="0.008284"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-02-27T09:48:05.633720" level="INFO">${current_qty} = 20</msg>
<var>${current_qty}</var>
<arg>${result[0][0]}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-02-27T09:48:05.633720" elapsed="0.000000"/>
</kw>
<if>
<branch type="IF" condition="${current_qty}&gt;0">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2025-02-27T09:48:05.634713" level="INFO">${new_qty} = 19</msg>
<var>${new_qty}</var>
<arg>${current_qty} - 1</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2025-02-27T09:48:05.634713" elapsed="0.000000"/>
</kw>
<kw name="Execute Sql String" owner="DatabaseLibrary">
<msg time="2025-02-27T09:48:05.634713" level="INFO" html="true">Executing sql:&lt;br&gt;&lt;code style="font-weight: bold;"&gt;UPDATE product SET qty=19 WHERE id=666;&lt;/code&gt;</msg>
<msg time="2025-02-27T09:48:05.641697" level="INFO">Commit the transaction</msg>
<arg>UPDATE product SET qty=${new_qty} WHERE id=${pd_id};</arg>
<doc>Executes the ``sql_string`` as a single SQL command.</doc>
<status status="PASS" start="2025-02-27T09:48:05.634713" elapsed="0.018335"/>
</kw>
<kw name="Execute Sql String" owner="DatabaseLibrary">
<msg time="2025-02-27T09:48:05.654089" level="INFO" html="true">Executing sql:&lt;br&gt;&lt;code style="font-weight: bold;"&gt;COMMIT;&lt;/code&gt;</msg>
<msg time="2025-02-27T09:48:05.660287" level="INFO">Commit the transaction</msg>
<arg>COMMIT;</arg>
<doc>Executes the ``sql_string`` as a single SQL command.</doc>
<status status="PASS" start="2025-02-27T09:48:05.654089" elapsed="0.006198"/>
</kw>
<kw name="Log To Console" owner="BuiltIn">
<arg>"Decreased QTY from ${current_qty} to ${new_qty}"</arg>
<doc>Logs the given message to the console.</doc>
<status status="PASS" start="2025-02-27T09:48:05.660287" elapsed="0.015013"/>
</kw>
<status status="PASS" start="2025-02-27T09:48:05.634713" elapsed="0.040587"/>
</branch>
<branch type="ELSE IF" condition="${current_qty}==0">
<kw name="Log To Console" owner="BuiltIn">
<arg>"QTY is 0, cannot decrease."</arg>
<doc>Logs the given message to the console.</doc>
<status status="NOT RUN" start="2025-02-27T09:48:05.675300" elapsed="0.000000"/>
</kw>
<status status="NOT RUN" start="2025-02-27T09:48:05.675300" elapsed="0.000000"/>
</branch>
<status status="PASS" start="2025-02-27T09:48:05.634713" elapsed="0.040587"/>
</if>
<arg>666</arg>
<arg>0</arg>
<status status="PASS" start="2025-02-27T09:48:05.624397" elapsed="0.051929"/>
</kw>
<tag>tc02</tag>
<status status="PASS" start="2025-02-27T09:48:05.532399" elapsed="0.143927"/>
</test>
<status status="PASS" start="2025-02-27T09:48:05.480420" elapsed="0.196899"/>
</suite>
<statistics>
<total>
<stat pass="1" fail="0" skip="0">All Tests</stat>
</total>
<tag>
<stat pass="1" fail="0" skip="0">tc02</stat>
</tag>
<suite>
<stat name="Tc" id="s1" pass="1" fail="0" skip="0">Tc</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
